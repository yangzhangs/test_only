<!doctype html>

<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>FlowForge Actions Studio</title>
    <link rel="stylesheet" href="styles.css" />
  </head>
  <body>
    <div class="app-shell">
      <header class="topbar">
        <div>
          <h1>FlowForge Actions Studio</h1>
          <p>Visualize, edit, and ship GitHub Actions workflows with confidence.</p>
        </div>
      </header>

      <section class="card controls">
        <div class="row">
          <input id="repoUrl" placeholder="Repository URL (https://github.com/owner/repo)" />
          <input id="githubToken" type="password" placeholder="GitHub token (required for private repos and PR creation)" />
          <button id="loadBtn">Load Workflows</button>
          <button id="newWorkflowBtn" class="secondary">Start From Scratch</button>
        </div>
        <div class="row">
          <label class="file-upload">Upload YAML <input id="yamlFile" type="file" accept=".yml,.yaml,.txt" /></label>
          <textarea id="pasteYaml" placeholder="Paste existing workflow YAML here to parse it into the canvas"></textarea>
          <button id="parseYamlBtn">Parse Pasted YAML</button>
        </div>
      </section>

      <section class="card workflow-bar">
        <label for="workflowList">Workflow</label>
        <select id="workflowList"></select>
        <button id="syncYamlBtn">Generate YAML From Canvas</button>
        <button id="viewYamlBtn" class="secondary">View Updated YAML</button>
        <button id="downloadYamlBtn" class="secondary">Download YAML</button>
      </section>

      <main class="workspace">
        <aside class="card panel">
          <h2>Action Library</h2>
          <h3>Common Actions</h3>
          <div id="componentList" class="component-list"></div>

          <h3>GitHub Marketplace Search</h3>
          <div class="search-row">
            <input id="marketplaceQuery" placeholder="Search actions (e.g. aws, docker, lint)" />
            <button id="searchMarketplaceBtn">Search</button>
          </div>
          <div id="marketplaceList" class="market-list"></div>
        </aside>

        <section class="card panel">
          <h2>Pipeline Canvas</h2>
          <p class="hint">Drag actions into the canvas, then click nodes to configure details.</p>
          <div id="canvas" class="canvas" aria-label="workflow canvas"></div>
        </section>

        <aside class="card panel">
          <h2>Node Settings</h2>
          <div id="nodeConfig">Select a node to edit name, uses, and run command.</div>
        </aside>
      </main>

      <section class="card yaml-editor">
        <h2>Workflow YAML</h2>
        <textarea id="yamlOutput"></textarea>
      </section>

      <section class="card pr-actions">
        <h2>Create Pull Request</h2>
        <div class="row">
          <input id="workflowPath" placeholder="Workflow path (.github/workflows/ci.yml)" />
          <input id="branchName" placeholder="Branch name (optional)" />
          <input id="commitMessage" placeholder="Commit message (optional)" />
          <input id="prTitle" placeholder="PR title (optional)" />
        </div>
        <textarea id="prBody" placeholder="PR description (optional)"></textarea>
        <div class="row">
          <button id="createPrBtn">Create Pull Request</button>
          <span id="status"></span>
        </div>
      </section>
    </div>


    <script src="app.js"></script>
  </body>
</html>
